.MODEL SMALL
.STACK 100H
.386
.DATA




 ;MACRO ALLOTED SPACE


;MACRO TO CHANGE LINE





LINECHANGER MACRO 

MOV AH,2
MOV DL,10
INT 21H
MOV DL,13
INT 21H



ENDM


;MACRO TO CHANGE LINE



;INPUT TAKER DYNAMIC MACRO

INPUT MACRO DEST
LOCAL L1,L2,L3

MOV DI,OFFSET DEST
MOV CX,LENGTHOF DEST
L1:
MOV AH,1
INT 21H
CMP AL,13
JE L2
CMP AL,8
JNE L3
DEC DI
JMP L1
L3:
STOSB
DEC CX
CMP CX,0
JG L1


L2:
LINECHANGER
ENDM


;INPUT TAKER DYNAMIC MACRO







;LABEL FOR TAKING MARKS INPUT

MARKSIN MACRO COURSE
MOV AH,9
MOV DX,OFFSET STR11
INT 21H

MOV AH,9
MOV DX,OFFSET COURSE
INT 21H

MOV AH,9
MOV DX,OFFSET STR12
INT 21H


ENDM


;LABEL FOR TAKING MARKS INPUT











;LOW TO HIGH CASE


LTH MACRO STRLTH

LOCAL L1,CHKOTH,CHNGE,IGNORE
MOV CX,LENGTHOF STRLTH
MOV SI,0

L1:
MOV AL,STRLTH[SI]
CMP AL,'A'
JGE CHKOTH
JMP IGNORE
CHKOTH:
 CMP AL,'Z'
 JLE IGNORE
 JMP CHNGE
CHNGE:
  SUB AL,32
  JMP IGNORE
IGNORE:
MOV STRLTH[SI],AL
INC SI

LOOP L1




ENDM



;LOW TO HIGH CASE





    ;GRAPHING MACROS

;MARKS PLOTTER


MP MACRO MARKS,ARR
LOCAL @ELSE

MOV SI,0
MOV BX,10
MOV AX,MARKS
@ELSE:
 
 MOV DX,0
 DIV BX
 ADD DX,48
 MOV ARR[SI],DL
 INC CX
 INC SI
 CMP AX,0
 JNZ @ELSE

ENDM



;MARKS PLOTTER





;PRINTING MARKS ABOVE BAR

SUBMARKS MACRO CH1,CH2,CH3,COL,ROW,COLOR
LOCAL L1,L2,L3
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX

  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  MOV DL,COL
  INT 10h

  MOV AH,9
  MOV AL,CH1
  MOV BL,COLOR
  MOV CX,1
  INT 10H

  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  INC DL
  INT 10h

  MOV AH,9
  MOV AL,CH2
  MOV BL,COLOR
  MOV CX,1
  INT 10H

  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  INC DL
  INT 10h

  MOV AH,9
  MOV AL,CH3
  MOV BL,COLOR
  MOV CX,1
  INT 10H


  POP DX
  POP CX
  POP BX
  POP AX
ENDM




;PRINTING MARKS ABOVE BAR









;PRINTING SUBJECT NAME BELOW BAR

SUBN MACRO CH1,CH2,CH3,COL,COLOR
LOCAL L1,L2,L3
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX

  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV AH,02
  MOV BH,0
  MOV DH,24
  MOV DL,COL
  INT 10h

  MOV AH,9
  MOV AL,CH1
  MOV BL,COLOR
  MOV CX,1
  INT 10H

  MOV AH,02
  MOV BH,0
  MOV DH,24
  INC DL
  INT 10h

  MOV AH,9
  MOV AL,CH2
  MOV BL,COLOR
  MOV CX,1
  INT 10H

  MOV AH,02
  MOV BH,0
  MOV DH,24
  INC DL
  INT 10h

  MOV AH,9
  MOV AL,CH3
  MOV BL,COLOR
  MOV CX,1
  INT 10H


  POP DX
  POP CX
  POP BX
  POP AX
ENDM




;PRINTING SUBJECT NAME BELOW BAR











;CALCULATE ROW COLUMN


CAL_R_C MACRO FROW,PLOT
 
  PUSH BX
  PUSH CX
  PUSH DX

  MOV AX,FROW
  MOV BX,163
  MUL BX 
  MOV DX,0
  DIV TMARKS
  PUSH AX
  MOV BX,8
  MOV DX,0
  DIV BX
  MOV BX,20
  SUB BX,AX
  MOV AX,BX
  MOV PLOT,AL
  POP AX
  MOV BX,180
  SUB BX,AX
  MOV AX,BX

 

  POP DX
  POP CX
  POP BX
 
ENDM

;CALCULATE ROW COLUMN


;TO SET X AND Y


XYAXIS MACRO ROW,COL
 LOCAL L1,L2
  
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX
  MOV CX,COL
  MOV DX,ROW
L1:
  INT 10H
  INC DX
  CMP DX,179
  JLE L1 
  
  MOV CX,COL
 ; MOV DX,ROW
  ;ADD DX,175
L2:
  INT 10H
  INC CX
  CMP CX,318
  JLE L2 
  
  POP DX
  POP CX
  POP BX
  POP AX
ENDM








;TO SET X AND Y





;BAR MAKING MACRO


BAR MACRO ROW,COL,COLOUR
 LOCAL L1,L2,L3,L4,L5,L6
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX
  MOV AL,COLOUR
  MOV CX,COL
  MOV DX,ROW
L1:
  INT 10H
  INC DX
  CMP DX,179
  JLE L1


  MOV CX,COL
  ADD CX,35
  MOV DX,ROW
L3:
  INT 10H
  INC DX
  CMP DX,179
  JLE L3

;FILLING OF BAR


  MOV DX,ROW 
  DEC DX
L5:
  INC DX
  MOV CX,COL
  MOV BX,CX
  ADD BX,35
L2:
  INT 10H
  INC CX
  CMP CX,BX
  JLE L2  


CMP DX,179
JL L5  



;FILLING OF BAR



  ADD COL1,50
 

  POP DX
  POP CX
  POP BX
  POP AX
ENDM










    ;GRAPHING MACROS END

     
     ;TABLEMACROS




TABLE MACRO COL,ROW
LOCAL L1,L2,L3,L4
 PUSH AX
 PUSH BX
 PUSH CX
 PUSH DX
 
 MOV CX,COL
 MOV DX,ROW
L1:
 INT 10H
 INC CX
 CMP CX,318
 JLE L1 

L2:
 INT 10H
 INC DX
 CMP DX,170
 JLE L2 
 
L3:
 INT 10H
 DEC CX
 CMP CX,1
 JGE L3 
 
L4:
 INT 10H
 DEC DX
 CMP DX,60
 JGE L4 
 
 POP DX
 POP CX
 POP BX
 POP AX
ENDM 
     ;TABLE MACROS

  ;TABLE COLUMN MAKER START  

TABLELINES1 MACRO COL,ROW
  LOCAL L1,L2

  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX

  
  MOV CX,COL
  MOV DX,ROW
L1:
  INT 10H
  INC DX
  CMP DX,170
  JLE L1 
  
  MOV CX,COL
  MOV DX,ROW
L2:
  INT 10H
  INC DX
  CMP DX,165
  JLE L2 
  
  POP DX
  POP CX
  POP BX
  POP AX
ENDM


 ;TABLE COLUMN MAKER END








;PRINT NAME AND SUBJECT ON TABLE START

PRINTER MACRO ARR,COL,ROW,COLOR
LOCAL L1
  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV CX,LENGTHOF ARR-1
  MOV SI,LENGTHOF ARR-2
  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  MOV DL,COL
  INT 10h

L1:
 

  MOV AH,9
  MOV AL,ARR[SI]
  MOV BL,COLOR
  PUSH CX
  MOV CX,1
  POP CX
  INT 10H  
  INC DL
  DEC SI
 LOOP L1
ENDM

;PRINT NAME AND SUBJECT ON TABLE END



;PRINT MARKS IN TABLE START


PRINTERM MACRO ARR,COL,ROW,COLOR
LOCAL L1
  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV CX,LENGTHOF ARR
  MOV SI,0
  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  MOV DL,COL
  INT 10h

L1:
 

  MOV AH,9
  MOV AL,ARR[SI]
  MOV BL,COLOR
  PUSH CX
  MOV CX,1
  POP CX
  INT 10H  
  INC DL
  INC SI
 LOOP L1
ENDM






;PRINT MARKS IN TABLE END












;GRADE CALCULATOR START

CAL_G MACRO MARKS,GRADEEE,FLAG

LOCAL APLUS,AGRADE,BGRADE,CGRADE,EXITT,FAIL
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX
  
  CMP MARKS,50
  JL FAIL
  CMP MARKS,80
  JGE APLUS
  CMP MARKS,70
  JGE AGRADE
  CMP MARKS,60
  JGE BGRADE
  CMP MARKS,50
  JGE CGRADE 
  JMP EXITT
FAIL:
  CLD
  MOV SI,OFFSET FAILL 
  MOV DI,OFFSET GRADEEE
  MOV CX,LENGTHOF FAILL 
  REP MOVSB 
  MOV FLAG,0
  JMP EXITT 
APLUS:
  CLD
  MOV SI,OFFSET APLUG 
  MOV DI,OFFSET GRADEEE
  MOV CX,LENGTHOF APLUG 
  REP MOVSB 
  MOV FLAG,1
  JMP EXITT 
AGRADE:
  CLD
  MOV SI,OFFSET AGRAD
  MOV DI,OFFSET GRADEEE
  MOV CX,LENGTHOF AGRAD
  REP MOVSB 
  MOV FLAG,1
  JMP EXITT 
BGRADE:
  CLD
  MOV SI,OFFSET BGRAD  
  MOV DI,OFFSET GRADEEE
  MOV CX,LENGTHOF BGRAD 
  REP MOVSB
  MOV FLAG,1 
  JMP EXITT 
CGRADE:
  CLD
  MOV SI,OFFSET CGRAD 
  MOV DI,OFFSET GRADEEE
  MOV CX,LENGTHOF CGRAD 
  REP MOVSB 
  MOV FLAG,1
  JMP EXITT 
EXITT:      
  POP DX
  POP CX
  POP BX
  POP AX
ENDM 
; END GRADE CALCULATOR




;GRADE PRINTER START

GRADEPRINTER MACRO ARR,COL,ROW,CMPFLAG
LOCAL L1,REDD,GREENN,CONTT,CONTT2,COO
  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV CX,LENGTHOF ARR-1
  MOV SI,LENGTHOF ARR-2
  MOV AH,02
  MOV BH,0
  MOV DH,ROW
  MOV DL,COL
  INT 10h
  CMP CMPFLAG,0
  JE REDD
  CMP CMPFLAG,1
  JE GREENN
  JMP CONTT
REDD:
  MOV BL,12
  JMP CONTT2
GREENN:
  MOV BL,2
  JMP CONTT2
CONTT:
  MOV BL,4
  JMP COO
CONTT2:
COO:
L1:
 
  MOV AH,9
  MOV AL,ARR[SI]
 ; MOV BL,COLOR
  PUSH CX
  MOV CX,1
  POP CX
  INT 10H  
  INC DL
  DEC SI
 LOOP L1
ENDM


;GRADE PRINTER END




     ;TABLEMACROS END















        ;MACRO ALLOTED SPACE



















SNAME DB 20 DUP(?),"$"
SFNAME DB 20 DUP(?),"$"
SSEATNO DB 10 DUP(?),"$"

STR0 DB "******************STUDENT'S PORTAL************************ $"

STR1 DB "ENTER STUDENT'S NAME : $"
STR2 DB "ENTER FATHER'S NAME  : $"
STR3 DB "ENTER SEAT NUMBER    : $"
STR4 DB "******************ENTER COURSE NAME(SHORT FORM 3 CHARACTERS)***************** $"
STR5 DB "COURSE NUMBER ONE NAME:  $"
STR6 DB "COURSE NUMBER TWO NAME:  $"
STR7 DB "COURSE NUMBER THREE NAME:  $"
STR8 DB "COURSE NUMBER FOUR NAME:  $"
STR9 DB "COURSE NUMBER FIVE NAME:  $"
STR10 DB "COURSE NUMBER SIX NAME:  $"
STR11 DB "ENTER $"
STR12 DB " MARKS: $"
STR13 DB "******************ENTER COURSE MARKS(OUT OF 100)*********************** $"
COURSE1 DB 3 DUP(?),"$"
COURSE2 DB 3 DUP(?),"$"
COURSE3 DB 3 DUP(?),"$"
COURSE4 DB 3 DUP(?),"$"
COURSE5 DB 3 DUP(?),"$"
COURSE6 DB 3 DUP(?),"$"
NAMETL DB "NAME: $"
FNAMETL DB "FATHER NAME: $"
SEATNL DB "SEAT NO: $"
SUBL DB "SUBJECTS$"
MARKSL DB "MARKS$"
GRADEL DB "GRADES$"
TOTMARKSL DB "TOTAL MARKS: $"
TOTPERL DB "PERCENTAGE: $"

COURSE1N DW ?
COURSE2N DW ?
COURSE3N DW ?
COURSE4N DW ?
COURSE5N DW ?
COURSE6N DW ?


PLOT1 DB ?
PLOT2 DB ?
PLOT3 DB ?
PLOT4 DB ?
PLOT5 DB ?
PLOT6 DB ?

ERRORINPUT DB "PLEASE ENTER DIGIT ONLY!$"
ERRORMINUS DB "MARKS CANNOT BE NEGATIVE!$"

ROW1N DW ?
ROW2N DW ?
ROW3N DW ?
ROW4N DW ?
ROW5N DW ?
ROW6N DW ?


M1ARR DB 3 DUP(?)
M2ARR DB 3 DUP(?)
M3ARR DB 3 DUP(?)
M4ARR DB 3 DUP(?)
M5ARR DB 3 DUP(?)
M6ARR DB 3 DUP(?)
TARR DB 3 DUP(?)
PARR DB 3 DUP(?)

PERCENTAGE DW ?
TOTALMARKS DW ?
OTOTALMARKS DW 600
TMARKS DW 100
COL1 DW 23


FAILL DB "FAIL$"
CGRAD DB " C  $"
BGRAD DB " B  $"
AGRAD DB " A  $"
APLUG DB " A+ $"

GRADE1C DB 4 DUP(?),"$"
GRADE2C DB 4 DUP(?),"$"
GRADE3C DB 4 DUP(?),"$"
GRADE4C DB 4 DUP(?),"$"
GRADE5C DB 4 DUP(?),"$"
GRADE6C DB 4 DUP(?),"$"

GRADE1FLAG DW 2
GRADE2FLAG DW 2
GRADE3FLAG DW 2
GRADE4FLAG DW 2
GRADE5FLAG DW 2
GRADE6FLAG DW 2

.CODE
MAIN PROC
MOV AX,@DATA
MOV DS,AX
MOV ES,AX


MOV AH,9
MOV DX,OFFSET STR0
INT 21H


LINECHANGER
LINECHANGER


;ENTER INFORMATION PANEL



MOV AH,9
MOV DX,OFFSET STR1
INT 21H


INPUT SNAME
LTH SNAME


MOV AH,9
MOV DX,OFFSET STR2
INT 21H



INPUT SFNAME
LTH SFNAME



MOV AH,9
MOV DX,OFFSET STR3
INT 21H



INPUT SSEATNO
LTH SSEATNO


MOV AH,9
MOV DX,OFFSET STR4
INT 21H

LINECHANGER
LINECHANGER

MOV AH,9
MOV DX,OFFSET STR5
INT 21H

INPUT COURSE1




MOV AH,9
MOV DX,OFFSET STR6
INT 21H

INPUT COURSE2





MOV AH,9
MOV DX,OFFSET STR7
INT 21H

INPUT COURSE3





MOV AH,9
MOV DX,OFFSET STR8
INT 21H

INPUT COURSE4


MOV AH,9
MOV DX,OFFSET STR9
INT 21H

INPUT COURSE5


MOV AH,9
MOV DX,OFFSET STR10
INT 21H

INPUT COURSE6


LINECHANGER







;TAKING MARKS INPUT

MOV AH,9
MOV DX,OFFSET STR13
INT 21H

LINECHANGER
LINECHANGER

LTH COURSE1
MARKSIN COURSE1
CALL INDEC
MOV COURSE1N,AX


LTH COURSE2
MARKSIN COURSE2
CALL INDEC
MOV COURSE2N,AX 

LTH COURSE3
MARKSIN COURSE3
CALL INDEC
MOV COURSE3N,AX 


LTH COURSE4
MARKSIN COURSE4
CALL INDEC
MOV COURSE4N,AX 

LTH COURSE5
MARKSIN COURSE5
CALL INDEC
MOV COURSE5N,AX 


LTH COURSE6
MARKSIN COURSE6
CALL INDEC
MOV COURSE6N,AX

MOV AX,0
ADD AX,COURSE1N
ADD AX,COURSE2N
ADD AX,COURSE3N
ADD AX,COURSE4N
ADD AX,COURSE5N
ADD AX,COURSE6N
MOV TOTALMARKS,AX
MP TOTALMARKS,TARR
MOV AX,TOTALMARKS
MOV BX,100
MUL BX
MOV BX,OTOTALMARKS
DIV BX
MOV PERCENTAGE,AX
MP PERCENTAGE,PARR


MP COURSE1N,M1ARR
MP COURSE2N,M2ARR
MP COURSE3N,M3ARR
MP COURSE4N,M4ARR
MP COURSE5N,M5ARR
MP COURSE6N,M6ARR


   CAL_G COURSE1N,GRADE1C,GRADE1FLAG
   CAL_G COURSE2N,GRADE2C,GRADE2FLAG
   CAL_G COURSE3N,GRADE3C,GRADE3FLAG
   CAL_G COURSE4N,GRADE4C,GRADE4FLAG
   CAL_G COURSE5N,GRADE5C,GRADE5FLAG
   CAL_G COURSE6N,GRADE6C,GRADE6FLAG


;GETTING TOTAL MARKS

 





;TAKING MARKS INPUT




;SETTING UP GRAPH MODE
;VGA MODE
  MOV AH,0
  MOV AL,13H    
  INT 10H
   
  
;PIXEL
  MOV AH,0CH
  MOV AL,15  ;color
  MOV BH,0  ;page





;SETTING UP GRAPH MODE

;2NDMODEULEWORL

   

     ;CREATING UP A TABLE


  TABLE 1,60
  TABLE 1,75
  TABLE 1,90
  TABLE 1,105
  TABLE 1,125
  TABLE 1,140
  TABLE 1,155

  ;CREATING ITS COLUMN
  TABLELINES1 100,60
  TABLELINES1 218,60



  


      
     ;CREATING UP A TABLE



;PRINTING TEXT

PRINTER NAMETL,1,1,15
 PRINTER SNAME,15,1,4
PRINTER FNAMETL,1,3,15
 PRINTER SFNAME,15,3,4
PRINTER SEATNL,1,5,15
 PRINTER SSEATNO,15,5,4
PRINTER SUBL,2,8,15
;SUBJECTS NAMES
  PRINTER COURSE1,4,10,4
  PRINTER COURSE2,4,12,4
  PRINTER COURSE3,4,14,4
  PRINTER COURSE4,4,16,4
  PRINTER COURSE5,4,18,4
  PRINTER COURSE6,4,20,4

;MARKS

 
  PRINTER MARKSL,17,8,15
  PRINTERM M1ARR,18,10,4
  PRINTERM M2ARR,18,12,4
  PRINTERM M3ARR,18,14,4
  PRINTERM M4ARR,18,16,4
  PRINTERM M5ARR,18,18,4
  PRINTERM M6ARR,18,20,4
  PRINTERM TARR,15,22,4
  PRINTERM PARR,15,24,4
;PERCENT SIGN
  
  MOV AH,0BH
  MOV BH,00H
  MOV BL,0
  INT 10H 

  MOV AH,02
  MOV BH,0
  MOV DH,24
  MOV DL,19
  INT 10h

  MOV AH,9
  MOV AL,'%'
  MOV BL,4
  MOV CX,1
  INT 10H  


;PERCENT SIGN
;GRADES  

  PRINTER GRADEL,31,8,15
  GRADEPRINTER GRADE1C,32,10,GRADE1FLAG
  GRADEPRINTER GRADE2C,32,12,GRADE2FLAG
  GRADEPRINTER GRADE3C,32,14,GRADE3FLAG
  GRADEPRINTER GRADE4C,32,16,GRADE4FLAG
  GRADEPRINTER GRADE5C,32,18,GRADE5FLAG
  GRADEPRINTER GRADE6C,32,20,GRADE6FLAG

PRINTER TOTMARKSL,1,22,15
PRINTER TOTPERL,1,24,15



;PRINTING TEXT







;READ KEYBOARD 
  MOV AH,0
  INT 16H

      






;2NDMODEULEWORL


;GRAPHWORK


CAL_R_C COURSE1N,PLOT1
MOV ROW1N,AX


CAL_R_C COURSE2N,PLOT2
MOV ROW2N,AX


CAL_R_C COURSE3N,PLOT3
MOV ROW3N,AX


CAL_R_C COURSE4N,PLOT4
MOV ROW4N,AX



CAL_R_C COURSE5N,PLOT5
MOV ROW5N,AX


CAL_R_C COURSE6N,PLOT6
MOV ROW6N,AX




;VGA MODE
  MOV AH,0
  MOV AL,13H    
  INT 10H
   
  
;PIXEL
  MOV AH,0CH
  MOV AL,14  ;color
  MOV BH,0  ;page




  
XYAXIS 10,8



BAR ROW1N,COL1,1
BAR ROW2N,COL1,2
BAR ROW3N,COL1,3
BAR ROW4N,COL1,4
BAR ROW5N,COL1,5
BAR ROW6N,COL1,6



SUBN COURSE1[0],COURSE1[1],COURSE1[2],4,1
SUBN COURSE2[0],COURSE2[1],COURSE2[2],10,2
SUBN COURSE3[0],COURSE3[1],COURSE3[2],16,3
SUBN COURSE4[0],COURSE4[1],COURSE4[2],22,4
SUBN COURSE5[0],COURSE5[1],COURSE5[2],29,5
SUBN COURSE6[0],COURSE6[1],COURSE6[2],35,6














SUBMARKS M1ARR[2],M1ARR[1],M1ARR[0],4,PLOT1,1
SUBMARKS M2ARR[2],M2ARR[1],M2ARR[0],10,PLOT2,2
SUBMARKS M3ARR[2],M3ARR[1],M3ARR[0],16,PLOT3,3
SUBMARKS M4ARR[2],M4ARR[1],M4ARR[0],22,PLOT4,4
SUBMARKS M5ARR[2],M5ARR[1],M5ARR[0],29,PLOT5,5
SUBMARKS M6ARR[2],M6ARR[1],M6ARR[0],35,PLOT6,6




  
;READ KEYBOARD 
  MOV AH,0
  INT 16H

;SET MODE BACK TO TEXT MODE  
  MOV AX,3
  INT 10H

















;GRAPHWORK


MOV AH,4CH
INT 21H


MAIN ENDP











INDEC PROC
  PUSH BX
  PUSH CX
  PUSH DX
  
  BEGIN:
  MOV CX,0
  MOV BX,0
  
  
  MOV AH,1
  INT 21h
  
  CMP AL,'-'
  JE MINUS
  CMP AL,'+'
  JE PLUS
  JMP @LOOP
  
  MINUS:
  LINECHANGER
  MOV AH,9
  LEA DX,ERRORMINUS
  INT 21H
  LINECHANGER
  MOV CX,1
  JMP BEGIN
  PLUS:
  INT 21h
  
  @LOOP:
  
  CMP AL,'0'
  JL INVALID
  CMP AL,'9'
  JG INVALID
  
  SUB AL,48
  MOV AH,0
  PUSH AX
  MOV AX,10
  MUL BX
  POP BX
  ADD BX,AX
  
  MOV AH,1
  INT 21h
  
  CMP AL,13
  JNE @LOOP
  
  MOV AX,BX
  CMP CX,0
  JE EXIT
  
  NEG AX
  
  EXIT:
  POP DX
  POP CX
  POP BX
  
  RET
  
  INVALID:
  LINECHANGER
  MOV AH,9
  LEA DX,ERRORINPUT
  INT 21H
  MOV AH,2
  MOV DL,10
  INT 21h
  MOV DL,13
  INT 21h
  JMP BEGIN
  
  INDEC ENDP




OUTDEC PROC
 PUSH AX
 PUSH BX
 PUSH CX
 PUSH DX
 MOV BX,10
 MOV CX,0
 CMP AX,0
 JGE @ELSE
 PUSH AX
 MOV AH,2
 MOV DL,'-'
 INT 21H
 POP AX
 NEG AX
@ELSE:
 
 MOV DX,0
 DIV BX
 PUSH DX
 INC CX
 CMP AX,0
 JNZ @ELSE
 MOV AH,2
 PRINT:
 POP DX
 ADD DL,48
 INT 21H
 LOOP PRINT

 POP DX
 POP CX
 POP BX
 POP AX
 RET
OUTDEC ENDP



END MAIN